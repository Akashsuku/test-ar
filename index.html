<!DOCTYPE html>
<html>
<head>
  <title>WebAR Windmill</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js/aframe/build/aframe-ar.js"></script>
  <style>
    #overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
    }
  </style>
</head>
<body style="margin: 0; overflow: hidden;">

<a-scene embedded arjs>
  <!-- Windmill Marker -->
  <a-marker preset="custom" type="pattern" url="logo.patt">
    <a-entity gltf-model="url(windmill.glb)" animation-mixer></a-entity>
  </a-marker>

  <!-- Static Middle Marker -->
  <a-entity camera>
    <a-cursor></a-cursor>
  </a-entity>
</a-scene>

<!-- Video Overlay -->
<div id="overlay">
  <video id="video" width="600" controls>
    <source src="video.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</div>

<script>
  document.addEventListener('markerFound', (e) => {
    if (e.detail && e.detail.markerId === 'your-marker-id') {
      document.getElementById('overlay').style.display = 'block';
      document.getElementById('video').play();
    }
  });

  document.addEventListener('markerLost', (e) => {
    if (e.detail && e.detail.markerId === 'your-marker-id') {
      document.getElementById('overlay').style.display = 'none';
      document.getElementById('video').pause();
      document.getElementById('video').currentTime = 0;
    }
  });
</script>

</body>
</html>
